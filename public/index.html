<!-- <meta http-equiv="refresh" content="0;url=html/book_in.html"> -->
<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Node.js 학습</title>
	<link rel="stylesheet" href="css/fa.min.css">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/base.css">
</head>
<body>
	<nav class="navbar navbar-expand-sm bg-dark navbar-light">
		<ul class="navbar-nav">
			<li class="nav-item">
				<a class="nav-link text-light" href="/html/book_in.html">도서관리(관리자)-입력</a>
			</li>
			<li class="nav-item">
				<a class="nav-link text-light" href="/book">도서목록 보기</a>
			</li>
		</ul>
  </nav>
  <div class="container">
    <div class="jumbotron">
      <h1>node.js 정리</h1>
    </div>
    <div class="mt bor-a pa">
      <table class="table">
        <tbody>
          <tr>
            <td>설치</td>
            <td>
              1.node.js설치(<a href="https://nodejs.org/ko/" target="_blank">https://nodejs.org/ko/</a>)<br>
              2.터미널 창에서 프로젝트 폴더로 이동(vscode에서는 폴더열기 후 터미널창 열기)<br>
              3.npm init -y 실행 (package.json 생성)<br>
              4.npm install express --save-dev (node.js 프레임워크)<br>
              5.npm install pug --save-dev (view engine)<br>
              6.npm install mysql --save-dev (MySQL 서버 연동 미들웨어)<br>
              7.npm install http-errors --save-dev (node실행 중 에러처리)<br>
              8.npm install morgan --save-dev (node 실행 중 모든 작업내역: logger)<br>
              9.npm install multer --save-dev (node에서 사용자의 파일 업로드 미들웨어)<br>
              10.npm install cookie-parser --save-dev (node에서 쿠키 사용)<br>
            </td>
          </tr>
          <tr>
            <td>프로젝트 개발</td>
            <td>
              1. app.js/web.js (실행파일) 생성-노드는 보통 하나의 파일을 사용한다.<br>
              2. static(정적 html,css등)폴더 역할을 할 public 폴더를 생성<br>
                &nbsp;&nbsp;-app.use("/", express.static("public"));<br>
                &nbsp;&nbsp;-app.use("/info", express.static("info"));<br>
              3. express나 사용할 미들웨어를 import(require) 시킨다.<br>
              <div class="bor-a ma pa">
                  const express = require('express');<br>
                  const <span class="blue bold">app</span> = express();<br>
                  const bodyParser = require('body-parser');<br>
                  const db = require('./mysql_conn');<br>
                  const mysql = db.mysql;<br>
                  const conn = db.conn;<br>
              </div><br>
              4.생성 된<span class="blue bold">app</span>을 초기화 한다.<br>
              <div class="bor-a ma pa">
                  <code>
                    app.listen(3000, () => {
                      <br>
                      console.log("서버시작");
                      <br>
                    });<br>
                  </code>
                  app.use("/", express.static("public")); (정적폴더 지정)<br>
                  app.set("view engine", "pug"); (view template engine 지정)<br>
                  app.set("views", "./views"); (view engined이 사용한 template폴더 지정)<br>
              </div><br>
              5. Route 개발<br>
              <div class="bor-a ma pa">
                  <code>
                    app.get("/book", (req, res) => {
                      <br>
                      //클라이언트의 요청사항<br>
                      var id = req.queryString.id;<br>
                      var page = req.params.page;<br>
                      //서버로부터의 응답사항<br>
                      res.send("서버로부터의 답장");<br>
                      res.render("view", vals); // views/view.pug에 js object형태의 vals를 전달
                      <br>
                    });<br>
                  </code>
                  app.use("/", express.static("public")); (정적폴더 지정)<br>
                  app.set("view engine", "pug"); (view template engine 지정)<br>
                  app.set("views", "./views"); (view engined이 사용한 template폴더 지정)<br>
              </div><br>
              6. Route 개발 (post)<br>
              <div class="bor-a ma pa">
                  <code>
                    const <b class="blue">bodyParser</b> = require('body-parser')<br>
                    app.use(body-parser.urlencoded({ extended:false}));<br>
                    app.<b class="blue">post</b class>("/book/", (res, req)=>{
                      <br>
                      //클라이언트의 요청사항<br>
                      var id = req.<b class="blue">body</b>.id;<br>
                      var id = req.<b class="blue">body</b>.title;<br>
                      //서버로부터의 응답사항<br>
                      res.send("서버로부터의 답장");<br>
                      res.render("view", vals); // views/view.pug에 js object형태의 vals를 전달
                      <br>
                    });
                  </code>
                  app.use("/", express.static("public")); (정적폴더 지정)<br>
                  app.set("view engine", "pug"); (view template engine 지정)<br>
                  app.set("views", "./views"); (view engined이 사용한 template폴더 지정)<br>
              </div><br>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
	<div class="container mt">
		<div class="jumbotron">
			<h1>Node.js 학습해야 할 내용</h1>
		</div>
		<div class="mt bor-a pa">
			<table class="table">
				<tbody>
					<tr>
						<td>기본</td>
						<td>use, set, get, post</td>
					</tr>
					<tr>
						<td>View engine</td>
						<td>jade-> pug, ejs</td>
					</tr>
					<tr>
						<td>Database</td>
						<td>mysql->mysql.js<br>
							<a href="https://www.mongodb.com/" target="_blank">mongoDB</a>-><a  href="https://mongoosejs.com/" target="_blank">mongoose.js</a>
						</td>
					</tr>
					<tr>
						<td>파일처리</td>
						<td><a href="https://github.com/expressjs/multer" target="_blank">multer</a></td>
					</tr>
					<tr>
						<td>이벤트처리</td>
						<td>event/emmiter</td>
					</tr>
					<tr>
						<td>동기화통신</td>
						<td><a href="https://socket.io/" target="_blank">socket.io</a></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</body>
</html>